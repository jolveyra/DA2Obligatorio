<div class="d-flex justify-content-start mb-3">
  <a routerLink="/buildings">
      <app-back-icon></app-back-icon>
  </a>
</div>

<h2 class="text-center text-primary-emphasis fw-semibold mb-4">Import Buildings</h2>

<div class="d-flex justify-content-center align-items-center">
  <div class="w-75">
    <label class="mb-1" for="editableText">Importing tool:</label>
    <div class="dropdown mb-3">
      <button
        class="btn btn-light dropdown-toggle border-dark-subtle"
        type="button"
        id="categoryDropdown"
        data-bs-toggle="dropdown"
        aria-expanded="false">
        {{ selectedImporterName === '' ? 'Select your importing tool ...' : selectedImporterName }}
      </button>
      <ul class="dropdown-menu list-with-overflow" aria-labelledby="categoryDropdown">
        <li *ngFor="let importer of importers">
          <a class="dropdown-item" (click)="selectImporter(importer)">{{ importer.name }}</a>
        </li>
      </ul>
    </div>

    <div class="form-group mb-3">
      <label for="editableText">Building file name:</label>
      <input type="text" class="form-control" id="editableText" [(ngModel)]="this.fileName">
    </div>

    <div class="d-flex justify-content-center">
      <button
        class="btn btn-primary justify-content-center"
        (click)="onSubmit()"
        [disabled]="this.fileName === '' || this.selectedImporterName === ''">
        Import buildings
      </button>
    </div>

    <div *ngIf="isLoading" class="text-center mt-3">
      <app-loading-spinner></app-loading-spinner>
    </div>

    <div class="d-flex justify-content-center mt-3">
      <div class="alert alert-danger" *ngIf="error !== ''">
        <p>{{ error }}</p>
      </div>
    </div>
  </div>
</div>