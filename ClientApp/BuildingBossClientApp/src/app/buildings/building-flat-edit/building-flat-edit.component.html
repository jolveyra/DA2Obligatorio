<div class="container">
    <div class="d-flex justify-content-start mb-3">
        <a (click)="onBackIcon()"> <!-- FIXME: correct behavior to go back to buildings/id/flats -->
            <app-back-icon></app-back-icon>
        </a>
    </div>
    <h2 class="text-center text-primary-emphasis fw-semibold mb-4">Edit flat {{ flat.number }}</h2>
    <div class="alert alert-danger" *ngIf="error !== ''">
        <p>{{ error }}</p>
    </div>
    <div *ngIf="isLoading" class="text-center">
        <app-loading-spinner></app-loading-spinner>
    </div>
    <div class="d-flex justify-content-center">
        <form class="w-50" (ngSubmit)="onSubmit(flatEditForm)" #flatEditForm="ngForm" *ngIf="!isLoading">
            <div class="form-group row d-flex mb-2"> <!-- FIXME: fix column height -->
                <div class="col">
                    <label for="doorNumber">Door number</label>
                    <input
                        type="number"
                        id="doorNumber"
                        class="form-control"
                        ngModel
                        name="doorNumber"
                        required
                        min="1">
                </div>
                <div class="col">
                    <label for="floor">Floor</label>
                    <input
                        type="number"
                        id="floor"
                        class="form-control"
                        ngModel
                        name="floor"
                        required
                        min="1"
                        max="100">
                </div>
            </div>
            <div class="form-group row d-flex mb-2"> <!-- FIXME: fix column height -->
                <div class="col">
                    <label for="rooms">Rooms</label>
                    <input
                        type="number"
                        id="rooms"
                        class="form-control"
                        ngModel
                        name="rooms"
                        required
                        min="100">
                </div>
                <div class="col">
                    <label for="bathrooms">Bathrooms</label>
                    <input
                        type="number"
                        id="bathrooms"
                        class="form-control"
                        ngModel
                        name="bathrooms"
                        required
                        min="1"
                        max="100">
                </div>
            </div>
            <div class="form-group row py-0 mb-0"> <!-- FIXME: fix column height -->
                <div class="col-8">
                    <label for="street">Street</label>
                    <input
                        type="text"
                        id="street"
                        class="form-control"
                        ngModel
                        name="street"
                        required>
                </div>
                <div class="col-4">
                    <label for="doorNumber">Door Number</label>
                    <input
                        type="number"
                        id="doorNumber"
                        class="form-control"
                        ngModel
                        name="doorNumber"
                        required
                        min="1">
                </div>
            </div>
            <div class="form-group my-3">
                <label for="role">Does it have a balcony?</label>
                <div class="radio">
                    <label>
                        <input
                            type="radio"
                            name="role"
                            ngModel
                            [value]="true"
                            required>
                        Yes
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input
                            type="radio"
                            name="role"
                            ngModel
                            [value]="false"
                            required>
                        No
                    </label>
                </div>
            </div>
            <div class="text-center mt-4">
                <button
                    class="btn btn-primary"
                    type="submit"
                    [disabled]="!flatEditForm.valid">Edit flat</button>
            </div>
        </form>
    </div>
</div>
